{"ast":null,"code":"export const fetchAttendanceData = async () => {\n  const response = await fetch(\"http://192.168.29.179:5001/api/attendance/fetch\");\n  if (!response.ok) {\n    throw new Error(`HTTP error! Status: ${response.status}`);\n  }\n  const data = await response.json();\n  console.log(\"Frontend API Data:\", data); // Log the API data\n  return data.map(item => {\n    const hoursConducted = parseFloat(item.hoursConducted || 0);\n    const hoursAbsent = parseFloat(item.hoursAbsent || 0);\n    const attendancePercentage = parseFloat(item.attendancePercentage || 0);\n    let marginCount = -1;\n    let futureAbsent = hoursAbsent;\n    let futureConducted = hoursConducted;\n    if (attendancePercentage >= 75) {\n      while ((futureConducted - futureAbsent) / futureConducted * 100 > 75) {\n        marginCount++;\n        futureAbsent++;\n        futureConducted++;\n      }\n    }\n    const requiredClasses = attendancePercentage < 75 ? (0.75 * hoursConducted - (hoursConducted - hoursAbsent)) / 0.25 : 0;\n    return {\n      ...item,\n      hoursConducted,\n      // Ensure these are passed\n      hoursAbsent,\n      // Ensure these are passed\n      attendancePercentage,\n      requiredClasses: requiredClasses >= 0 ? requiredClasses : 0,\n      marginClasses: marginCount > 0 ? marginCount : 0\n    };\n  });\n};","map":{"version":3,"names":["fetchAttendanceData","response","fetch","ok","Error","status","data","json","console","log","map","item","hoursConducted","parseFloat","hoursAbsent","attendancePercentage","marginCount","futureAbsent","futureConducted","requiredClasses","marginClasses"],"sources":["/Users/aadithyaram/AttendancePersonal/frontend/src/api/attendance.js"],"sourcesContent":["export const fetchAttendanceData = async () => {\n    const response = await fetch(\"http://192.168.29.179:5001/api/attendance/fetch\");\n    if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n\n    console.log(\"Frontend API Data:\", data); // Log the API data\n    return data.map((item) => {\n        const hoursConducted = parseFloat(item.hoursConducted || 0);\n        const hoursAbsent = parseFloat(item.hoursAbsent || 0);\n        const attendancePercentage = parseFloat(item.attendancePercentage || 0);\n\n        let marginCount = -1;\n        let futureAbsent = hoursAbsent;\n        let futureConducted = hoursConducted;\n\n        if (attendancePercentage >= 75) {\n            while ((futureConducted - futureAbsent) / futureConducted * 100 > 75) {\n                marginCount++;\n                futureAbsent++;\n                futureConducted++;\n            }\n        }\n\n        const requiredClasses =\n            attendancePercentage < 75\n                ? (0.75 * hoursConducted - (hoursConducted - hoursAbsent)) / 0.25\n                : 0;\n\n        return {\n            ...item,\n            hoursConducted, // Ensure these are passed\n            hoursAbsent, // Ensure these are passed\n            attendancePercentage,\n            requiredClasses: requiredClasses >= 0 ? requiredClasses : 0,\n            marginClasses: marginCount > 0 ? marginCount : 0,\n        };\n    });\n};\n"],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,GAAG,MAAAA,CAAA,KAAY;EAC3C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iDAAiD,CAAC;EAC/E,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC;EAC7D;EACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAElCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,IAAI,CAAC,CAAC,CAAC;EACzC,OAAOA,IAAI,CAACI,GAAG,CAAEC,IAAI,IAAK;IACtB,MAAMC,cAAc,GAAGC,UAAU,CAACF,IAAI,CAACC,cAAc,IAAI,CAAC,CAAC;IAC3D,MAAME,WAAW,GAAGD,UAAU,CAACF,IAAI,CAACG,WAAW,IAAI,CAAC,CAAC;IACrD,MAAMC,oBAAoB,GAAGF,UAAU,CAACF,IAAI,CAACI,oBAAoB,IAAI,CAAC,CAAC;IAEvE,IAAIC,WAAW,GAAG,CAAC,CAAC;IACpB,IAAIC,YAAY,GAAGH,WAAW;IAC9B,IAAII,eAAe,GAAGN,cAAc;IAEpC,IAAIG,oBAAoB,IAAI,EAAE,EAAE;MAC5B,OAAO,CAACG,eAAe,GAAGD,YAAY,IAAIC,eAAe,GAAG,GAAG,GAAG,EAAE,EAAE;QAClEF,WAAW,EAAE;QACbC,YAAY,EAAE;QACdC,eAAe,EAAE;MACrB;IACJ;IAEA,MAAMC,eAAe,GACjBJ,oBAAoB,GAAG,EAAE,GACnB,CAAC,IAAI,GAAGH,cAAc,IAAIA,cAAc,GAAGE,WAAW,CAAC,IAAI,IAAI,GAC/D,CAAC;IAEX,OAAO;MACH,GAAGH,IAAI;MACPC,cAAc;MAAE;MAChBE,WAAW;MAAE;MACbC,oBAAoB;MACpBI,eAAe,EAAEA,eAAe,IAAI,CAAC,GAAGA,eAAe,GAAG,CAAC;MAC3DC,aAAa,EAAEJ,WAAW,GAAG,CAAC,GAAGA,WAAW,GAAG;IACnD,CAAC;EACL,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}